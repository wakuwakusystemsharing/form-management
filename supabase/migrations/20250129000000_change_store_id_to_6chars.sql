-- ==========================================
-- Change Store ID to 6-character random string
-- 2025-01-29: 店舗IDを6文字のランダム文字列に変更
-- ==========================================

-- 注意: このマイグレーションは既存のデータベースには影響しません
-- アプリケーション側で6文字のランダムIDを生成して挿入するため、
-- データベースのデフォルト値は変更しません（後方互換性のため）

-- 既存のUUID形式のIDを持つ店舗データがある場合の対応:
-- 1. 既存データはそのまま維持（UUID形式のまま）
-- 2. 新規作成される店舗は6文字のランダム文字列を使用
-- 3. ミドルウェアは両方の形式に対応（/[a-z0-9]{6}/ または /st\d{4}/）

-- コメント: storesテーブルのIDカラムについて
COMMENT ON COLUMN stores.id IS '店舗ID: 6文字のランダム文字列（新規）またはUUID形式（既存データ）';

